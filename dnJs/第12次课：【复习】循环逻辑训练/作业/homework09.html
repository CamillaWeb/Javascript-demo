<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>JS</title>
<style>
html,body{ width:100%; height:100%; padding:0; margin:0;}
#box{ width:220px; margin:0 auto; margin-top:100px;} 
#box span{ width:20px; height:20px; line-height:20px; text-align:center; background:#A4ACEA; border:1px #ccc solid; display:block; float:left;}
#box span:hover{ background:#FFC993;}
#box span.boom{ background:#272727;}
#box span.other{ background:#fff;}
</style>
</head>

<body>
    <div id="box"></div>
	<script>
	   var arr=[
	      [0,0,0,0,1,0,0,0,1,0],
		  [0,0,0,0,0,1,0,0,0,0],
		  [0,0,0,1,0,0,0,0,0,0],
		  [0,1,0,0,0,0,0,0,0,0],
		  [0,0,0,0,0,0,0,0,0,0],
		  [0,0,0,0,1,0,0,0,0,0],
		  [0,0,0,0,0,0,0,0,1,0],
		  [0,0,0,0,1,0,0,0,0,0],
		  [0,1,0,0,0,0,0,0,0,0],
		  [0,0,0,0,0,0,0,0,1,0]
	   ];
	   function drawMap(){
		   var html = "";
		   for(var i=0;i<arr.length;i++){
			   for(var j=0;j<arr[i].length;j++){
				   html += "<span onclick=clickBlock("+i+','+j+",this)></span>";
			   }
			   html += "<br/>";
		   }
		   box.innerHTML = html;  
	   }
	   drawMap();

	   function clickBlock(i,j,block){
		   if(arr[i][j] === 1){
			   block.className = "boom";
			   alert("你点到雷了，游戏结束！");
			   var ques = prompt("是否继续游戏？","yes or no");
			   if(ques == "yes"){
				  drawMap();  
			   }else{
				  alert("退出游戏"); 
			   }
		   }else{
			   var count = 0;
			   for(var x=i-1;x<=i+1;x++){
				   for(var y=j-1;y<=j+1;y++){
					   if(i<0 || j<0)continue;
					   if(arr[x] && arr[x][y] && arr[x][y]===1){
						   count++;
					   }
				   }
			   }
			   block.className = "other";  
			   block.innerHTML = count?count:"";
		   }
	   }
	</script>
</body>
</html>